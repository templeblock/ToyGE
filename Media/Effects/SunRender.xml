<?xml version="1.0" encoding="utf-8"?>

<effect>

  <variable type='cbuffer' name='cb_vs_perFrame'>
    <variable type='float4x4' name='viewProj'/>
  </variable>

  <variable type='cbuffer' name='cb_vs_perObj'>
    <variable type='float4x4' name='world'/>
  </variable>

  <variable type='cbuffer' name='cb_ps'>
    <variable type='float4' name='sunColor'/>
  </variable>
  
  <shader>
    <![CDATA[
    
struct VSIn
{
	float3 pos : POSITION;
};

struct VSOut
{
	float4 posH : SV_POSITION;
};

VSOut SunRenderVS(VSIn vsIn)
{
  VSOut vsOut;
  float4x4 worldViewProj = mul(world, viewProj);
  vsOut.posH = mul(float4(vsIn.pos, 1.0f), worldViewProj);
  return vsOut;
}

float4 SunRenderPS(VSOut vsOut) : SV_TARGET
{
  return sunColor;
}

    
    ]]>
  </shader>

  <variable type='DepthStencilState' name='dssNoDepthWrite'>
    <state name='depthWriteMask' value='ZERO'/>
  </variable>
  
  <technique name='SunRender'>
    <pass>
      <state value='dssNoDepthWrite'/>
      <vs entry='SunRenderVS'/>
      <ps entry='SunRenderPS'/>
    </pass>
  </technique>
  
</effect>