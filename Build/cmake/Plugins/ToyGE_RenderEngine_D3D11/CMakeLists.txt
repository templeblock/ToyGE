SET(LIB_NAME ToyGE_RenderEngine_D3D11)
ADD_DEFINITIONS(-DTOYGE_D3D11RE_SOURCE)


FILE(GLOB HEADER_FILES ${PLUGINS_RENDERENGINE_DIR}/ToyGE_RenderEngine_D3D11/include/ToyGE/D3D11/*.h)
FILE(GLOB SOURCE_FILES ${PLUGINS_RENDERENGINE_DIR}/ToyGE_RenderEngine_D3D11/src/*.cpp)

SOURCE_GROUP("Header Files" FILES ${HEADER_FILES})
SOURCE_GROUP("Source Files" FILES ${SOURCE_FILES})

# Include
INCLUDE_DIRECTORIES(${TOYGE_ROOT_DIR}/Core/include)
INCLUDE_DIRECTORIES(${PLUGINS_RENDERENGINE_DIR}/ToyGE_RenderEngine_D3D11/include)
INCLUDE_DIRECTORIES(${AntTweakBar_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${Boost_INCLUDE_DIRS})

# GenerateLib
ADD_LIBRARY(${LIB_NAME} SHARED
	${HEADER_FILES} ${SOURCE_FILES})

# Add link libs
SET(LINKED_LIBARARIES ${LINKED_LIBARARIES} 
    debug ${AntTweakBar_LIBRARY_DEBUG}
    optimized ${AntTweakBar_LIBRARY_RELEASE})

TARGET_LINK_LIBRARIES(${LIB_NAME}
	PRIVATE ${LINKED_LIBARARIES}
	PRIVATE ${TOYGE_CORE_LIB_NAME})

# Properties
SET_TARGET_PROPERTIES(${LIB_NAME} PROPERTIES
	PROJECT_LABEL ${LIB_NAME})

SET_TARGET_PROPERTIES(${LIB_NAME} PROPERTIES
	FOLDER RenderEngine)

SET_TARGET_PROPERTIES(${LIB_NAME} PROPERTIES
	ARCHIVE_OUTPUT_DIRECTORY ${TOYGE_OUTPUT_DIR}
	ARCHIVE_OUTPUT_DIRECTORY_DEBUG ${TOYGE_OUTPUT_DIR}/Debug
	ARCHIVE_OUTPUT_DIRECTORY_RELEASE ${TOYGE_OUTPUT_DIR}/Release
	OUTPUT_NAME ${LIB_NAME})

SET_TARGET_PROPERTIES(${LIB_NAME} PROPERTIES
	RUNTIME_OUTPUT_DIRECTORY ${TOYGE_OUTPUT_DIR}
	RUNTIME_OUTPUT_DIRECTORY_DEBUG ${TOYGE_OUTPUT_DIR}/Debug
	RUNTIME_OUTPUT_DIRECTORY_RELEASE ${TOYGE_OUTPUT_DIR}/Release
	OUTPUT_NAME ${LIB_NAME})

SET_TARGET_PROPERTIES(${LIB_NAME} PROPERTIES
	LIBRARY_OUTPUT_DIRECTORY ${TOYGE_OUTPUT_DIR}
	LIBRARY_OUTPUT_DIRECTORY_DEBUG ${TOYGE_OUTPUT_DIR}/Debug
	LIBRARY_OUTPUT_DIRECTORY_RELEASE ${TOYGE_OUTPUT_DIR}/Release
	OUTPUT_NAME ${LIB_NAME})